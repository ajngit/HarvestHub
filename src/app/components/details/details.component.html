<app-header></app-header>


<div class=" container mt-4 p-0" style="min-height: 8vh;"></div>
<div class="card shadow rounded container mt-4 p-0">
    <div class="card-body row p-0 ms-0">
        <div class="col-sm-6 p-0">
            <img src="{{this.ProductDetails.ImageURL}}" class="detailimg " alt="Cinque Terre">
        </div>
        <div class="col-sm-6 details">

            <h2 class="mt-2" style="font-family: 'Roboto', sans-serif; ">{{this.ProductDetails.ProductName}}</h2>
            <a style="text-decoration: dashed;" [routerLink]="['/userdetails']"
                [state]="{ UserID: this.ProductDetails.ModifiedUser }"><b>Seller
                    :</b>{{this.ProductDetails.UserName}}</a>
            <p><b>Description :</b>{{this.ProductDetails.Description}} </p>
            <h3><b>Price :</b> â‚¹{{this.ProductDetails.Price}}</h3>
            <div class="col-md-4 quantity">
                <label for="quantity">Quantity : {{this.ProductDetails.AvailableQuantity}} /{{this.ProductDetails.TotalQuantity}} Kg</label>
                <input id="quantity" [min]="0" type="number" class="form-control quantity-input"
                    [(ngModel)]="this.Registration.Quantity" (ngModelChange)="ChangeQuantity($event)">
            </div><br>

            <!-- <label for="">Rating:</label>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star"></span>
            <span class="fa fa-star"></span><br> -->
            <div class="mt-3">
                <a><button type="button" class="btn btn-success" (click)="AddToCart()">Add To Cart</button></a>
                <a><i class="fa-regular fa-heart ms-2"></i></a>


            </div>

        </div>
    </div>

</div><br>


<div class="container mt-4 p-0">
    <h4 class="text-success">Customer Reviews</h4>
    <div class="reviews-section">
        <div class="review" *ngFor="let data of this.ReviewList">
            <div class="review-header d-flex justify-content-between">
                <span class="review-author"><b>{{data.UserName}}</b> &nbsp;&nbsp;<small>{{data.ModifiedDate |
                        date:'fullDate'}} </small></span>
                <span class="review-rating" *ngIf="data.Rating==1">
                    <span class="fa fa-star checked"></span>&nbsp;
                    <button class="btn btn-success" *ngIf="data.ModifiedUser==this.UserID"
                        (click)="DeleteReview(data.ReviewID)"><svg xmlns="http://www.w3.org/2000/svg" width="16"
                            height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16">
                            <path
                                d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5" />
                        </svg></button>
                </span>
                <span class="review-rating" *ngIf="data.Rating==2">
                    <span class="fa fa-star checked"></span>
                    <span class="fa fa-star checked"></span>&nbsp;
                    <button class="btn btn-success" *ngIf="data.ModifiedUser==this.UserID"
                        (click)="DeleteReview(data.ReviewID)"><svg xmlns="http://www.w3.org/2000/svg" width="16"
                            height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16">
                            <path
                                d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5" />
                        </svg></button>
                </span>
                <span class="review-rating" *ngIf="data.Rating==3">
                    <span class="fa fa-star checked"></span>
                    <span class="fa fa-star checked"></span>
                    <span class="fa fa-star checked"></span>&nbsp;
                    <button class="btn btn-success" *ngIf="data.ModifiedUser==this.UserID"
                        (click)="DeleteReview(data.ReviewID)"><svg xmlns="http://www.w3.org/2000/svg" width="16"
                            height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16">
                            <path
                                d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5" />
                        </svg></button>
                </span>

                <span class="review-rating" *ngIf="data.Rating==4">
                    <span class="fa fa-star checked"></span>
                    <span class="fa fa-star checked"></span>
                    <span class="fa fa-star checked"></span>
                    <span class="fa fa-star checked"></span>&nbsp;
                    <button class="btn btn-success" *ngIf="data.ModifiedUser==this.UserID"
                        (click)="DeleteReview(data.ReviewID)"> <svg xmlns="http://www.w3.org/2000/svg" width="16"
                            height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16">
                            <path
                                d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5" />
                        </svg></button>
                </span>
                <span class="review-rating" *ngIf="data.Rating==5">
                    <span class="fa fa-star checked"></span>
                    <span class="fa fa-star checked"></span>
                    <span class="fa fa-star checked"></span>
                    <span class="fa fa-star checked"></span>
                    <span class="fa fa-star checked"></span> &nbsp;
                    <button class="btn btn-success" *ngIf="data.ModifiedUser==this.UserID"
                        (click)="DeleteReview(data.ReviewID)"> <svg xmlns="http://www.w3.org/2000/svg" width="16"
                            height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16">
                            <path
                                d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5" />
                        </svg></button>
                </span>

            </div>
            <p>{{ data.Review }}</p>

        </div>
    </div>
    <hr>
    <div class="mt-3">
        <h5>Leave a Review</h5>
        <textarea [(ngModel)]="Review.Review" placeholder="Write your review..." class="form-control mb-2"></textarea>
        <div class="col-3">
            <label for="review-rating">Rating:</label>
            <select [(ngModel)]="Review.Rating" id="review-rating" class="form-control mb-2">
                <option [ngValue]="5" selected>5 Star</option>
                <option [ngValue]="4">4 Star</option>
                <option [ngValue]="3">3 Star</option>
                <option [ngValue]="2">2 Star</option>
                <option [ngValue]="1">1 Star</option>
            </select>
        </div>

        <button type="button" class="btn btn-success" (click)="SubmitReview()">Submit Review</button>

    </div>
</div>



<app-footer></app-footer>


<!-- binded reviews -->
<!-- 
<div class="container mt-4 p-0">
    <h4>Customer Reviews</h4>
    <div class="reviews-section">
        <div *ngFor="let review of this.ProductDetails.Reviews" class="review">
            <div class="review-header d-flex justify-content-between">
                <span class="review-author">{{ review.author }}</span>
                <span class="review-rating">
                    <span *ngFor="let star of [].constructor(review.rating); let i = index" class="fa fa-star checked"></span>
                    <span *ngFor="let star of [].constructor(5 - review.rating); let i = index" class="fa fa-star"></span>
                </span>
            </div>
            <p>{{ review.comment }}</p>
        </div>
    </div>
    <div class="mt-3">
        <h5>Leave a Review</h5>
        <textarea [(ngModel)]="newReview.comment" placeholder="Write your review..." class="form-control mb-2"></textarea>
        <label for="review-rating">Rating:</label>
        <select id="review-rating" [(ngModel)]="newReview.rating" class="form-control mb-2">
            <option *ngFor="let star of [].constructor(5); let i = index" [value]="i + 1">{{ i + 1 }} Star</option>
        </select>
        <button type="button" class="btn btn-primary" (click)="SubmitReview()">Submit Review</button>
    </div>
</div> -->